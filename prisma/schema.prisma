// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model rcLootItem {
  id            String   @id
  player        String
  date          DateTime
  time          DateTime
  itemId        Int
  itemString    String
  response      String
  votes         Int
  class         String
  instance      String
  boss          String
  gear1         String
  gear2         String
  responseId    String
  isAwardReason Boolean
  rollType      String
  subType       String
  equipLoc      String
  note          String
  owner         String
  itemName      String

  bLootDBItem blizzAPIItem? @relation(fields: [itemId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model blizzAPIItem {
  id               Int     @id @default(autoincrement())
  href             String
  name             String
  qualityType      String
  qualityName      String
  level            Int
  requiredLevel    Int
  mediaId          Int
  mediaHref        String
  itemClassId      Int
  itemClassName    String
  itemClassHref    String
  itemSubclassId   Int
  itemSubclassName String
  itemSubclassHref String
  inventoryType    String
  inventoryName    String
  purchasePrice    Int
  sellPrice        Int
  maxCount         Int
  isEquippable     Boolean
  isStackable      Boolean
  previewItemId             Int
  previewQualityType        String
  previewQualityName        String
  previewName               String
  previewMediaHref          String
  previewMediaId            Int
  previewIitemClassHref     String
  previewItemClassName      String
  previewItemClassId        Int
  previewItemSubclassHref   String
  previewItemSubclassName   String
  previewItemSubclassId     Int
  previewInventoryType      String
  previewInventoryName      String
  previewBindingType        String
  previewBindingName        String
  previewUniqueEquipped     String
  previewWeaponMinDamage    Int
  previewWeaponMaxDamage    Int
  previewWeaponDamageString String
  previewWeaponDamageType   String
  previewWeaponDamageName   String
  previewWeaponAttackSpeed  Float
  previewWeaponAttackString String
  previewWeaponDps          Float
  previewWeaponDpsString    String
  previewSellPriceValue     Int
  previewSellPriceHeader    String
  previewSellPriceGold      String
  previewSellPriceSilver    String
  previewSellPriceCopper    String
  previewLevelValue         Int
  previewLevelString        String
  previewIsSubclassHidden   Boolean
  previewRewardType         String
  previewRewardName         String
  previewRewardQuantity     Int
  previewRewardTitleType    String
  previewRewardTitleId      Int
  previewRewardTitleName    String
  thumbnail        String

  dropList      rcLootItem[]
  // previewItem   PreviewItem  @relation(fields: [previewItemId], references: [id])
  // previewItemId Int          @unique

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// model PreviewItem {
//   id                 Int           @id @default(autoincrement())
//   previewItemHref           String
//   previewItemId             Int
//   previewQualityType        String
//   previewQualityName        String
//   previewName               String
//   previewMediaHref          String
//   previewMediaId            Int
//   previewIitemClassHref      String
//   previewItemClassName      String
//   previewItemClassId        Int
//   previewItemSubclassHref   String
//   previewItemSubclassName   String
//   previewItemSubclassId     Int
//   previewInventoryType      String
//   previewInventoryName      String
//   previewBindingType        String
//   previewBindingName        String
//   previewUniqueEquipped     String
//   previewWeaponMinDamage    Int
//   previewWeaponMaxDamage    Int
//   previewWeaponDamageString String
//   previewWeaponDamageType   String
//   previewWeaponDamageName   String
//   previewWeaponAttackSpeed  Float
//   previewWeaponAttackString String
//   previewWeaponDps          Float
//   previewWeaponDpsString    String
//   previewSellPriceValue     Int
//   previewSellPriceHeader    String
//   previewSellPriceGold      String
//   previewSellPriceSilver    String
//   previewSellPriceCopper    String
//   previewLevelValue         Int
//   previewLevelString        String
//   previewIsSubclassHidden   Boolean
//   previewRewardType         String
//   previewRewardName         String
//   previewRewardQuantity     Int
//   previewRewardTitleType    String
//   previewRewardTitleId      Int
//   previewRewardTitleName    String
//   blizzAPIItem       blizzAPIItem?

//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt
// }
